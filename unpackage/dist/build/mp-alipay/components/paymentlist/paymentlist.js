;my.defineComponent || (my.defineComponent = Component);(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["components/paymentlist/paymentlist"],{"023a":function(e,t,n){"use strict";var i=n("9707"),o=n.n(i);o.a},2632:function(e,t,n){"use strict";var i,o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}))},5145:function(e,t,n){"use strict";n.r(t);var i=n("2632"),o=n("bc91");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("023a");var c,s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"64a0db6e",null,!1,i["a"],c);t["default"]=r.exports},"5e97":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(function(){return resolve(n("5853"))}.bind(null,n)).catch(n.oe)},o={name:"paymentlist",components:{uniPopup:i},data:function(){return{index:0,key:0,apiUrl:"https://ccc.wangwanglive.com/index.php/api/V1/",array:["请选择缴费类型","水费","电费","网费"],company:[{name:"请选择缴费类型"}],info:{},acPlac:"Account No",idPlac:"Identifier",service_charge:"50",type_ac:!1,itemid:"",ac:"",ident:"",money:""}},methods:{recordAc:function(e){this.ac=e.detail.value},recordId:function(e){this.ident=e.detail.value},recordMoney:function(e){this.money=e.detail.value,this.money>3e3?this.service_charge=Math.floor(2*this.money*.01):this.service_charge=50,console.log(this.ac,this.ident,this.money)},lifeorder:function(){var t=this;return t.itemid?t.ac&&t.ident?t.money?(e.showToast({title:"支付中...",icon:"none",duration:2e3}),e.request({url:"https://ccc.wangwanglive.com/index.php/index/lifepay/vlifecreate",data:{price:t.money,itemid:t.itemid,service_price:t.service_charge,Identifier:t.ident,AccountNo:t.ac,user_id:e.getStorageSync("userlist").user_id,payid:e.getStorageSync("lpayid"),payment:"wxpay_mini_app"},method:"POST",success:function(n){if(t.$emit("fun",!1),"200"==n.data.code){e.setStorageSync("lpayid",n.data.id);var i=JSON.parse(n.data.data);if(console.log(i),0==i.code&&"success"==i.desc){var o=JSON.parse(i.data.content);console.log(o),t.juancashpay(o)}else e.showToast({title:""+i.desc,icon:"none"})}else e.showToast({title:""+data.msg,icon:"none"})},fail:function(e){console.log(e)}}),console.log(t.money),console.log(t.ac),void console.log(t.ident)):(e.showToast({title:"请填写缴费金额",icon:"none"}),!1):(e.showToast({title:"请填写正确的账单信息",icon:"none"}),!1):(e.showToast({title:"请输入缴费单位",icon:"none"}),!1)},juancashpay:function(t){this.$emit("fun",!1),e.requestPayment({provider:"wxpay",timeStamp:""+t.timeStamp,nonceStr:""+t.nonceStr,package:""+t.package,signType:""+t.signType,paySign:""+t.sign,success:function(t){if("requestPayment:ok"===t.errMsg)return e.removeStorageSync("lpayid"),e.showToast({title:"支付成功",icon:"none"}),void e.redirectTo({url:"/pages/lifepay/lifepay"});console.log("success:"+JSON.stringify(t))},fail:function(e){console.log("fail:"+JSON.stringify(e))}})},fxpay:function(t){this.$emit("fun",!1),e.requestPayment({provider:"wxpay",timeStamp:""+t.timeStamp,nonceStr:""+t.nonceStr,package:""+t.package,signType:""+t.signType,paySign:""+t.paySign,success:function(t){if("requestPayment:ok"===t.errMsg)return e.removeStorageSync("payid"),e.showToast({title:"支付成功",icon:"none"}),void e.redirectTo({url:"/pages/index/index"});console.log("success:"+JSON.stringify(t))},fail:function(e){console.log("fail:"+JSON.stringify(e))}})},bindPickerChange:function(t){var n=this;this.company=[{name:"请选择缴费类型"}],console.log("picker发送选择改变，携带值为",t.target.value),this.index=t.target.value,this.key=0,e.request({url:n.apiUrl+"api_Lifelist",data:{type:this.index-1},method:"POST",success:function(e){e.data&&(n.company=n.company.concat(e.data),console.log(e.data))},fail:function(e){console.log(e)}}),this.type_ac=!1},bindPickerChange2:function(e){if(this.key=e.target.value,0!=this.key&&0!=this.index){var t=JSON.parse(this.company[this.key].param);this.company[this.key].id,console.log(this.company[this.key]),this.itemid=this.company[this.key].fid,this.acPlac=t[0].note,this.idPlac=t[1].note,this.type_ac=!0}else this.type_ac=!1}}};t.default=o}).call(this,n("c11b")["default"])},9707:function(e,t,n){},bc91:function(e,t,n){"use strict";n.r(t);var i=n("5e97"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a}}]);
;(my["webpackJsonp"] = my["webpackJsonp"] || []).push([
    'components/paymentlist/paymentlist-create-component',
    {
        'components/paymentlist/paymentlist-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('c11b')['createComponent'](__webpack_require__("5145"))
        })
    },
    [['components/paymentlist/paymentlist-create-component']]
]);
